<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestor de Rutas de Hoteles</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100%;
      height: 100%;
    }

    html {
      height: 100%;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
    }

    .header {
      background: white;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 16px;
    }

    .header h1 {
      margin: 0 0 8px 0;
      color: #1a202c;
      font-size: 24px;
      font-weight: 700;
    }

    .header p {
      margin: 0;
      color: #718096;
      font-size: 14px;
    }

    .main-content {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .hotels-section {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 16px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      min-height: 600px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 2px solid #e2e8f0;
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: #2d3748;
      margin: 0;
    }

    .hotel-count {
      background: #667eea;
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
    }

    .hotels-list {
      flex: 1;
      overflow-y: auto;
      margin-right: -12px;
      padding-right: 12px;
    }

    .hotel-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      padding: 14px;
      margin-bottom: 10px;
      transition: all 0.2s;
      cursor: pointer;
      -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
    }

    .hotel-card:hover {
      border-color: #667eea;
      box-shadow: 0 2px 4px rgba(102, 126, 234, 0.1);
    }

    .hotel-card.selected {
      border-color: #667eea;
      background: #f7faff;
    }

    .hotel-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      gap: 16px;
    }

    .hotel-info {
      flex: 1;
    }

    .hotel-route {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .hotel-name {
      font-size: 16px;
      font-weight: 600;
      color: #2d3748;
      margin: 0 0 4px 0;
    }

    .hotel-address {
      font-size: 13px;
      color: #718096;
      margin: 0 0 8px 0;
    }

    .hotel-comment {
      font-size: 13px;
      color: #4a5568;
      font-style: italic;
      margin: 0;
    }

    .checkbox-container {
      display: flex;
      align-items: center;
    }

    .checkbox {
      width: 28px;
      height: 28px;
      cursor: pointer;
      accent-color: #667eea;
      min-width: 28px;
      min-height: 28px;
    }

    .sidebar {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 16px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      max-height: 400px;
    }

    .selected-hotels {
      flex: 1;
      overflow-y: auto;
      margin: 16px 0;
      padding-right: 8px;
    }

    .selected-hotel-item {
      background: #f7fafc;
      padding: 12px;
      border-radius: 6px;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-left: 4px solid #667eea;
    }

    .selected-hotel-name {
      font-size: 14px;
      font-weight: 600;
      color: #2d3748;
    }

    .route-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .btn {
      padding: 14px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
      min-height: 48px;
    }

    .btn-success {
      background: #48bb78;
      color: white;
    }

    .btn-success:hover {
      background: #38a169;
    }

    .btn-success:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
    }

    .btn-primary {
      background: #667eea;
      color: white;
    }

    .btn-primary:hover {
      background: #5568d3;
    }

    .btn-primary:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #a0aec0;
    }

    .empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: white;
      padding: 16px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease-out;
      z-index: 1000;
    }

    .toast.success {
      border-left: 4px solid #48bb78;
    }

    .toast.error {
      border-left: 4px solid #f56565;
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .search-box {
      margin-bottom: 16px;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 14px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.2s;
      -webkit-appearance: none;
      box-sizing: border-box;
    }

    .search-input:focus {
      outline: none;
      border-color: #667eea;
    }

    @media (min-width: 1024px) {
      .main-content {
        flex-direction: row;
        gap: 24px;
      }

      .hotels-section {
        flex: 1;
      }

      .sidebar {
        width: 400px;
        max-height: none;
      }

      .container {
        padding: 24px;
      }

      .header h1 {
        font-size: 32px;
      }

      .header p {
        font-size: 16px;
      }
    }

    @media (max-width: 640px) {
      .hotel-header {
        gap: 12px;
      }

      .hotel-name {
        font-size: 15px;
      }

      .hotel-address {
        font-size: 12px;
      }

      .hotel-comment {
        font-size: 12px;
      }

      .section-title {
        font-size: 18px;
      }

      .selected-hotel-item {
        padding: 10px;
      }

      .route-actions {
        gap: 10px;
      }
    }
  </style>
  <style>
    @view-transition {
      navigation: auto;
    }
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1 id="app-title">Gestor de Rutas de Hoteles</h1>
      <p id="instruction-text">Selecciona los hoteles para calcular la ruta m√°s eficiente</p>
    </div>
    <div class="main-content">
      <div class="hotels-section">
        <div class="section-header">
          <h2 class="section-title">üìç Hoteles Disponibles</h2><span class="hotel-count" id="hotel-count">0
            hoteles</span>
        </div>
        <div class="search-box"><input type="text" id="search-input" class="search-input"
            placeholder="üîç Buscar hotel por nombre, ruta o direcci√≥n...">
        </div>
        <div class="hotels-list" id="hotels-list"></div>
      </div>
      <div class="sidebar">
        <div class="section-header">
          <h2 class="section-title">üó∫Ô∏è Ruta Seleccionada</h2><span class="hotel-count" id="selected-count">0
            seleccionados</span>
        </div>
        <div class="selected-hotels" id="selected-hotels">
          <div class="empty-state">
            <div class="empty-icon">
              üìå
            </div>
            <p>Selecciona hoteles de la lista para comenzar a planificar tu ruta.</p>
          </div>
        </div>
        <div class="route-actions"><button class="btn btn-success" id="calculate-route-btn" disabled> <span>üß≠ Calcular
              Ruta √ìptima</span> </button> <button class="btn btn-primary" id="clear-selection-btn" disabled> <span>üîÑ
              Limpiar Selecci√≥n</span> </button>
        </div>
      </div>
    </div>
  </div>
  <script>
    // ========================================
    // AQU√ç PUEDES AGREGAR TUS HOTELES EN FORMATO JSON
    // ========================================
    const HOTELS_DATA = [
      {
        "route": 1,
        "name": "EUROSTARS GRAND MARINA",
        "address": "Moll de Bcn s/n,World Trade Center",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/T896CvSyx5q1TAFp9",
        "lat": 41.37180142078914,
        "lng": 2.180899412611472
      },
      {
        "route": 2,
        "name": "HILTON DIAGONAL MAR",
        "address": "Pg del Taulat 262,CCIB",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/MXUKGKTfrgAeiWNKA",
        "lat": 41.40871094414003,
        "lng": 2.217446403510998
      },
      {
        "route": 2,
        "name": "LEONARDO BCN FORUM",
        "address": "Pg del Taulat 278,CCIB",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/maa2C2w6nAR5wk1D7",
        "lat": 41.40991059858922,
        "lng": 2.2186130354624054
      },
      {
        "route": 2,
        "name": "BARCELONA PRINCESS",
        "address": "Av. Diagonal 1,Esq. Pg. Del Taulat",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/oKNkMriiubTXiJY57",
        "lat": 41.41095138348593,
        "lng": 2.2186675456325755
      },
      {
        "route": 2,
        "name": "SB DIAGONAL ZERO",
        "address": "Pl. de Llevant s/n,Frente Torre Telef√≥nica",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/khW9aGa9wM1xdYhK8",
        "lat": 41.41223235049058,
        "lng": 2.2198451659660288
      },
      {
        "route": 2,
        "name": "TEMBO BARCELONA",
        "address": "Ram√≥n Llull 479-487",
        "comment": "Por detr√°s del SB D. Zero, lado Bes√≥s",
        "mapsLink": "https://maps.app.goo.gl/utMpaygC9Cm5SN2a7",
        "lat": 41.41515372591302,
        "lng": 2.220786557915777
      },
      {
        "route": 2,
        "name": "SLS BARCELONA",
        "address": "Carrer de la Pau 2",
        "comment": "Port Forum, Sant Adri√†",
        "mapsLink": "https://maps.app.goo.gl/mJkDuXd529TgaYaj8",
        "lat": 41.416155325201906,
        "lng": 2.226183994714848
      },
      {
        "route": 3,
        "name": "SOFITEL SKIPPER",
        "address": "Av. Del Litoral 10,Antes de llegar al Arts",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/bmdFCWYdTyDBG6jg9",
        "lat": 41.38602938980801,
        "lng": 2.1947379544001127
      },
      {
        "route": 3,
        "name": "SB ICARIA ",
        "address": "Av. D'Ic√†ria 195",
        "comment": "Esq. Avila, lado monta√±a/Bes√≥s",
        "mapsLink": "https://maps.app.goo.gl/Hdrozu2ejPWq9Psk6",
        "lat": 41.39370040276063,
        "lng": 2.1994066526199814
      },
      {
        "route": 3,
        "name": "H10 MARINA ",
        "address": "Av. Del Bogatell 64,Villa Ol√≠mpica",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/35q2UnUcwb382C4W9",
        "lat": 41.392875114525324,
        "lng": 2.1924708979929406
      },
      {
        "route": 4,
        "name": "SB GLOW",
        "address": "Badajoz 148,Subiendo a Pl. Glories a mano dcha",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/iRSzX8fxk8fHKQYG7",
        "lat": 41.40216206174385,
        "lng": 2.191129290600608
      },
      {
        "route": 4,
        "name": "THE HOXTON POBLENOU",
        "address": "Av. Diagonal 205",
        "comment": "A dcha, junto torre Gl√≤ries/Agbar",
        "mapsLink": "https://maps.app.goo.gl/rYhL1jCoULqCNuML7",
        "lat": 41.40388134803245,
        "lng": 2.190244503472989
      },
      {
        "route": 4,
        "name": "NOVOTEL BARCELONA CITY",
        "address": "Ciutat de Granada 201,Esq. Diagonal",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/m7zhnzgpxZKxovNJ7",
        "lat": 41.40385737988843,
        "lng": 2.1912238249513
      },
      {
        "route": 4,
        "name": "MELI√Å BARCELONA SKY",
        "address": "Lope de Vega 141,Esq. Diagonal y Pere IV",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/J33uypRavXyqsx5i9",
        "lat": 41.40619356763894,
        "lng": 2.2009771955040707
      },
      {
        "route": 4,
        "name": "LABTWENTYTWO BCN",
        "address": "Carrer del Per√∫ 102",
        "comment": "Paralela a C31, entre Espronceda y Bilbao",
        "mapsLink": "https://maps.app.goo.gl/nHk1pWsXWoBr5o6Q9",
        "lat": 41.40899687930711,
        "lng": 2.197275785102185
      },
      {
        "route": 5,
        "name": "OCCIDENTAL ATENEA MAR",
        "address": "Pg. De Garc√≠a F√†ria 37",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/1V3LmCA3siYFp55g7",
        "lat": 41.4022763356525,
        "lng": 2.211670320652219
      },
      {
        "route": 5,
        "name": "ILUNION BARCELONA",
        "address": "Ram√≥n Turr√≥ 196",
        "comment": "Esq. Llacuna, lado mar",
        "mapsLink": "https://maps.app.goo.gl/8i1tu1cKviBxLq8GA",
        "lat": 41.39910440586884,
        "lng": 2.2021108489739976
      },
      {
        "route": 5,
        "name": "PAXTON BCN",
        "address": "Lull 160",
        "comment": "Entre Llacuna y Roc Boronat, lado mar",
        "mapsLink": "https://maps.app.goo.gl/pDKwwLcXWVYHvPHB8",
        "lat": 41.39941498832945,
        "lng": 2.200230566422449
      },
      {
        "route": 6,
        "name": "ILUNION BEL-ART",
        "address": "Lepant 406,En frente Cuartel de Lepant",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/d92wVs4PM1C7jQNC8",
        "lat": 41.410172007376325,
        "lng": 2.1695312494416266
      },
      {
        "route": 6,
        "name": "RADISSON BLU 1882",
        "address": "C√≤rsega 482",
        "comment": "Esq. Sicilia, lado mar/Llobregat",
        "mapsLink": "https://maps.app.goo.gl/C94jzwdX7YA6U75QA",
        "lat": 41.40402460610561,
        "lng": 2.1696246887795136
      },
      {
        "route": 6,
        "name": "NH PODIUM",
        "address": "Bail√©n 4-6",
        "comment": "Esq. Ali Bei, lado monta√±a/Bes√≥s",
        "mapsLink": "https://maps.app.goo.gl/8iN6xnoqyzLhoGNQ9",
        "lat": 41.391553872190414,
        "lng": 2.177893703503898
      },
      {
        "route": 6,
        "name": "CASA BONAY",
        "address": "Gran Via CC 700",
        "comment": "Antes de llegar a Pza Tetu√°n, a la dcha (esq. Bail√©n)",
        "mapsLink": "https://maps.app.goo.gl/yNNnRHbXqgX7EKkRA",
        "lat": 41.39362200391083,
        "lng": 2.1743192380350056
      },
      {
        "route": 7,
        "name": "SEVENTY BARCELONA",
        "address": "C√≤rsega 344",
        "comment": "Entre R. de Ll√∫ria y Pau Claris, lado mar",
        "mapsLink": "https://maps.app.goo.gl/L5xVMd9a9Mdn7tL97",
        "lat": 41.39806698492816,
        "lng": 2.1615557214779777
      },
      {
        "route": 7,
        "name": "THE ONE BARCELONA GL",
        "address": "Proven√ßa 277",
        "comment": "Esq. Pau Claris, lado monta√±a",
        "mapsLink": "https://maps.app.goo.gl/SsND3z8KBPnq2das9",
        "lat": 41.39612011021474,
        "lng": 2.1630349537020006
      },
      {
        "route": 7,
        "name": "SIR VICTOR HOTEL",
        "address": "Rossell√≥ 265",
        "comment": "Entre Pau Claris y Pg de Gr√†cia, lado monta√±a",
        "mapsLink": "https://maps.app.goo.gl/aYAbVubqXbtXyoKU9",
        "lat": 41.39622172716171,
        "lng": 2.160967695348123
      },
      {
        "route": 7,
        "name": "GALLERY",
        "address": "Rossell√≥ 249",
        "comment": "Entre Rbla. Cat y Pg de Gr√†cia, lado monta√±a",
        "mapsLink": "https://maps.app.goo.gl/8b3YhEGRQXAtFzga8",
        "lat": 41.395137887530325,
        "lng": 2.1591852277211916
      },
      {
        "route": 8,
        "name": "NEGRESCO PRINCESS",
        "address": "Roger de Ll√∫ria 16",
        "comment": "(Esq. Casp, lado mar)",
        "mapsLink": "https://maps.app.goo.gl/2NuwjWFfz7MxMiVz8",
        "lat": 41.390470161143995,
        "long": 2.172609122471961
      },
      {
        "route": 8,
        "name": "EL PALACE BCN HOTEL",
        "address": "Gran V√≠a C.C. 668",
        "comment": "(Esq. Ll√∫ria, lado Bes√≥s)",
        "mapsLink": "https://maps.app.goo.gl/HPKR7RPxzk4ShWsUA",
        "lat": 41.39151118781879,
        "long": 2.1715163289585715
      },
      {
        "route": 8,
        "name": "HCC ST. MORITZ",
        "address": "Diputaci√≥ 264",
        "comment": "(Entre Pau Claris y Pg de Gr√†cia, lado mar)",
        "mapsLink": "https://maps.app.goo.gl/HjLmgGxPwqbcwFUS8",
        "lat": 41.39107339433926,
        "long": 2.1682157239627045
      },
      {
        "route": 8,
        "name": "MANDARIN ORIENTAL",
        "address": "Pg. De Gr√†cia 38-40",
        "comment": "(Entre Diputaci√≥ y Consell de Cent, lado Bes√≥s)",
        "mapsLink": "https://maps.app.goo.gl/iFjSkPbnsY3KoMdJA",
        "lat": 41.391171255642185,
        "long": 2.166576508985028
      },
      {
        "route": 8,
        "name": "MAJESTIC",
        "address": "Pg. De Gr√†cia 68",
        "comment": "(Esq. Valencia, lado monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/BgGFZ7gGwyFEmNQe6",
        "lat": 41.39344460304131,
        "long": 2.1639884617097804
      },
      {
        "route": 8,
        "name": "CLARIS HOTEL",
        "address": "Pau Claris 150",
        "comment": "(Esq. Val√®ncia, lado Bes√≥s)",
        "mapsLink": "https://maps.app.goo.gl/SnqXjhWtffhyxtgL6",
        "lat": 41.39437362408376,
        "long": 2.165196424314399
      },
      {
        "route": 8,
        "name": "RENAISSANCE BARCELONA",
        "address": "Pau Claris 122",
        "comment": "(Esq. Consell de Cent, lado Bes√≥s/monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/CWUFzcw2hwTpgiNN7",
        "lat": 41.39269518806629,
        "long": 2.1673979559112095
      },
      {
        "route": 8,
        "name": "EUROSTARS BCN CENTRAL",
        "address": "Arag√≥ 300",
        "comment": "(Esq. R. de Ll√∫ria, lado Llobregat)",
        "mapsLink": "https://maps.app.goo.gl/SYHvJWkgpHJps8hx9",
        "lat": 41.39395141678543,
        "long": 2.1675520356639537
      },
      {
        "route": 8,
        "name": "NH CALDERON",
        "address": "Rbla de Catalunya 26",
        "comment": "(Esq. Diputaci√≥, lado Bes√≥s)",
        "mapsLink": "https://maps.app.goo.gl/M6tZanBumA8f6Mk26",
        "lat": 41.38930879781708,
        "long": 2.1660362821305044
      },
      {
        "route": 8,
        "name": "ALEXANDRA BARCELONA",
        "address": "Mallorca 251",
        "comment": "(Entre Rbla. Cat y Pg de Gr√†cia, lado monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/VCWxz1EgmzbtBwYw5",
        "lat": 41.39317890213527,
        "long": 2.1615668755590334
      },
      {
        "route": 9,
        "name": "EVENIA ROSSELL√ì",
        "address": "Rossell√≥ 191",
        "comment": "(Entre Enric Granados y Aribau, lado monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/ZXam9sFKLmjyKYYeA",
        "lat": 41.392045840423556,
        "long": 2.1555556749380114
      },
      {
        "route": 9,
        "name": "GRANADOS 83",
        "address": "Enric Granados 83",
        "comment": "(Bajando a la dcha, entre Rossell√≥ y Proven√ßa)",
        "mapsLink": "https://maps.app.goo.gl/RHLJfWfh7swUH2Dn8",
        "lat": 41.391865379698935,
        "long": 2.156878376792106
      },
      {
        "route": 9,
        "name": "H10 ART GALLERY",
        "address": "Enric Granados 62-64",
        "comment": "A dcha, entre Rossell√≥ y Proven√ßa (frente Granados 83)",
        "mapsLink": "https://maps.app.goo.gl/NdVLYcVYQQrTQSGM7",
        "lat": 41.39200475836279,
        "long": 2.1569659537928754
      },
      {
        "route": 9,
        "name": "BALMES HOTEL",
        "address": "Mallorca 216",
        "comment": "(Entre Balmes y Enric Granados, lado mar)",
        "mapsLink": "https://maps.app.goo.gl/yC3Hzqzbqu1EQ1cN7",
        "lat": 41.39120599517814,
        "long": 2.1591810139862746
      },
      {
        "route": 9,
        "name": "OHLA EIXAMPLE ",
        "address": "C√≤rsega 289",
        "comment": "(Entre Rbla Cat y Balmes, lado monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/1uNjZ8LTfUmMcZhZA",
        "lat": 41.39452676964009,
        "long": 2.156554663598239
      },
      {
        "route": 9,
        "name": "HESPERIA BCN PRESIDENTE",
        "address": "Av. Diagonal 570",
        "comment": "(Esq. Muntaner, a la dcha)",
        "mapsLink": "https://maps.app.goo.gl/U1zuxb6bmn9DEPxT8",
        "lat": 41.394186154442934,
        "long": 2.1492046694224483
      },
      {
        "route": 10,
        "name": "CIUTADELLA BCN",
        "address": "Av. Marqu√®s de l'Argentera 4",
        "comment": "(A dcha, antes de la estaci√≥ del Nord)",
        "mapsLink": "https://maps.app.goo.gl/kva8KXSr2SJ33Dj57",
        "lat": 41.38387271037136,
        "long": 2.1846252502976364
      },
      {
        "route": 10,
        "name": "MEDINACELI",
        "address": "Pl. del Duc de Medinaceli 8",
        "comment": "(En la plaza, lado Llobregat)",
        "mapsLink": "https://maps.app.goo.gl/5hrSvKPWNhr6eg4d7",
        "lat": 41.37820711118224,
        "long": 2.178657178784603
      },
      {
        "route": 10,
        "name": "G√ìTICO HOTEL ",
        "address": "Jaume I 14",
        "comment": "Lado mar",
        "mapsLink": "https://maps.app.goo.gl/8XBjBAbMwMTUVRE59",
        "lat": 41.383461840146666,
        "long": 2.1781628386198664
      },
      {
        "route": 10,
        "name": "GRAND HOTEL CENTRAL",
        "address": "Via Laietana 30",
        "comment": "Subiendo, a mano dcha, antes de la catedral",
        "mapsLink": "https://maps.app.goo.gl/EvKPBrv9D6iVRKSs8",
        "lat": 41.38490575586353,
        "long": 2.1776477777475653
      },
      {
        "route": 10,
        "name": "ILUNION ALMIRANTE",
        "address": "Via Laietana 42",
        "comment": "Subiendo, a mano dcha, pasada la catedral",
        "mapsLink": "https://maps.app.goo.gl/oRx8kN9LyCYzwc2w5",
        "lat": 41.38602121399078,
        "long": 2.1761566256663616
      },
      {
        "route": 10,
        "name": "LE M√âRIDIEN BCN",
        "address": "La Rambla 111",
        "comment": "Esq. Pintor Fortuny, lado Llobregat",
        "mapsLink": "https://maps.app.goo.gl/HkqKjbemccaNSrGKA",
        "lat": 41.383527815496,
        "long": 2.170624256795788
      },
      {
        "route": 10,
        "name": "HOTEL 1898",
        "address": "La Rambla 109",
        "comment": "Esq. Pintor Fortuny, lado Llobregat",
        "mapsLink": "https://maps.app.goo.gl/kHgygHQn9erVhQcb9",
        "lat": 41.383540761759285,
        "long": 2.1711972924371956
      },
      {
        "route": 10,
        "name": "SILKEN RAMBLAS",
        "address": "Pintor Fortuny 13",
        "comment": "Lado mar",
        "mapsLink": "https://maps.app.goo.gl/C9sjpDhRb1siUMeB6",
        "lat": 41.383007830904134,
        "long": 2.1700083771004017
      },
      {
        "route": 11,
        "name": "H10 CASANOVA",
        "address": "Gran V√≠a CC 559",
        "comment": "(Esq. Casanova, lado monta√±a)",
        "mapsLink": "https://maps.app.goo.gl/fMS8ayKfGayUK8Dh7",
        "lat": 41.38409534409633,
        "long": 2.1607222416355283
      },
      {
        "route": 11,
        "name": "THE CORNER HOTEL",
        "address": "Mallorca 178",
        "comment": "(Esq. Muntaner, lado mar)",
        "mapsLink": "https://maps.app.goo.gl/nPNuy11STBGJT3V8A",
        "lat": 41.389100149762776,
        "long": 2.156452302052392
      },
      {
        "route": 11,
        "name": "U232 HOTEL",
        "address": "Urgell 232",
        "comment": "Entre C√≤rsega y Par√≠s, a mano dcha. Frente Escuela Ind",
        "mapsLink": "https://maps.app.goo.gl/nPNuy11STBGJT3V8A",
        "lat": 41.38959016998513,
        "long": 2.1488818993801218
      },
      {
        "route": 12,
        "name": "DERBY HOTEL",
        "address": "Loreto 21",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/YGVuPvFhnhFa6xGj7",
        "lat": 41.38977206036208,
        "long": 2.142002519971402
      },
      {
        "route": 12,
        "name": "MELIA BARCELONA SARRI√Å",
        "address": "Av. De Sarri√† 50",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/Tu3z55iYzberG3VM9",
        "lat": 41.39089196992799,
        "long": 2.141733099018712
      },
      {
        "route": 12,
        "name": "NH CONSTANZA",
        "address": "Deu i Mata 69-99",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/DohJwGqy1YJYBUVZA",
        "lat": 41.38884371266142,
        "long": 2.136296800793948
      },
      {
        "route": 13,
        "name": "NH SANTS BARCELONA",
        "address": "Num√†ncia 74",
        "comment": "Bajando a la izqda.",
        "mapsLink": "https://maps.app.goo.gl/53n9UVwWpTH7pLMa6",
        "lat": 41.384563518310465,
        "long": 2.137785698871324
      },
      {
        "route": 13,
        "name": "ABBA SANTS",
        "address": "Num√†ncia 32",
        "comment": "Bajando a la izqda.",
        "mapsLink": "https://maps.app.goo.gl/sdH4ibdtKVtuqKcaA",
        "lat": 41.3825465063362,
        "long": 2.139978113501307
      },
      {
        "route": 13,
        "name": "MOXY BARCELONA (EXPO)",
        "address": "Mallorca 1-23",
        "comment": "Antiguo hotel Expo",
        "mapsLink": "https://maps.app.goo.gl/eabw4uwmo34AdYGK8",
        "lat": 41.379110894210626,
        "long": 2.142916839993952
      },
      {
        "route": 13,
        "name": "BARCEL√ì SANTS",
        "address": "Pl. dels Paisos Catalans s/n",
        "comment": "Estaci√≥ de Sants",
        "mapsLink": "https://maps.app.goo.gl/ir26wyiXVhmdsbXg7",
        "lat": 41.379881670482916,
        "long": 2.1413035203990174
      },
      {
        "route": 13,
        "name": "NOBU HOTEL BARCELONA",
        "address": "Av. De Roma 2-4",
        "comment": "Antiguo Torre Catalunya",
        "mapsLink": "https://maps.app.goo.gl/f1oAEzjw7vCgzHRc7",
        "lat": 41.379953881013684,
        "long": 2.1426241759747726
      },
      {
        "route": 13,
        "name": "H10 ITACA",
        "address": "Av. De Roma 22",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/YTiQGcDDYDCZCsia6",
        "lat": 41.38123711601401,
        "long": 2.145398544537613
      },
      {
        "route": 14,
        "name": "INDIGO GRANVIA PLAZA ESPANYA",
        "address": "Gran Via CC 322",
        "comment": "Esq. c/M√®xic",
        "mapsLink": "https://maps.app.goo.gl/3QVwuyoPvaqFxTtp8",
        "lat": 41.373388684991745,
        "long": 2.147403862876384
      },
      {
        "route": 14,
        "name": " INTERCONTINENTAL BCN",
        "address": "Av. De Rius i Taulet 1-3",
        "comment": "Esq. c/Lleida",
        "mapsLink": "https://maps.app.goo.gl/DqR3mNgQJnKkfP6J9",
        "lat": 41.37293155764033,
        "long": 2.154955500990119
      },
      {
        "route": 14,
        "name": "CATALONIA PLAZA",
        "address": "Pl. de Espanya 8",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/eLTeLFMcRqjHHfPG7",
        "lat": 41.37552539081576,
        "long": 2.1487620518454627
      },
      {
        "route": 14,
        "name": "PESTANA ARENA BCN",
        "address": "Consell de Cent 51-53",
        "comment": "A la dcha c/Tarragona. Lado monta√±a",
        "mapsLink": "https://maps.app.goo.gl/KM1ZqjT78W5oJD668",
        "lat": 41.37675426821944,
        "long": 2.146087027761536
      },
      {
        "route": 14,
        "name": "INNSIDE MELI√Å BCN APOLO",
        "address": "Av. Paral¬∑lel 57-59",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/X3ButXBFKt1NFhN8A",
        "lat": 41.37478152219583,
        "long": 2.170597195715193
      },
      {
        "route": 14,
        "name": "UNIVERSAL BCN HOTEL",
        "address": "Av. Paral¬∑lel 76-80",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/whfQgvWHW4ze3hMbA",
        "lat": 41.375123020028816,
        "long": 2.168312842014166
      },
      {
        "route": 15,
        "name": "ILUNION LES CORTS SPA",
        "address": "Cardenal Reig 11",
        "comment": "Detr√°s Rey J.Carlos / Camp Nou",
        "mapsLink": "https://maps.app.goo.gl/W3nyK8DuMrMxnfMZ6",
        "lat": 41.37703194911845,
        "long": 2.114091251048651
      },
      {
        "route": 15,
        "name": "TORRE MELINA HOTEL",
        "address": "Av. Diagonal 671",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/3Ujom7vTmdNV5H6HA",
        "lat": 41.381644459181906,
        "long": 2.1089750262115254
      },
      {
        "route": 16,
        "name": "GRAND HYATT BARCELONA",
        "address": "Pl. de Pius XII",
        "comment": "antiguo Sof√≠a",
        "mapsLink": "https://maps.app.goo.gl/Rxres1ehEZXsNcaa9",
        "lat": 41.38666666833817,
        "long": 2.123015710414754
      },
      {
        "route": 16,
        "name": "HILTON BARCELONA",
        "address": "Av. Diagonal 589",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/QXfUfPJHQrZcMvbm6",
        "lat": 41.38901885914988,
        "long": 2.131362567297132
      },
      {
        "route": 17,
        "name": "RENAISSANCE BCN FIRA",
        "address": "Pl. de Europa 50",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/KB3TKWeVS9xfVqEC7",
        "lat": 41.3561037838946,
        "long": 2.1236673976388847
      },
      {
        "route": 17,
        "name": "ALEXANDRE FIRA CONGRESS",
        "address": "C. Jos√© de Goytisolo 9, L'H.",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/Uqm8nPpd5tsMAQK4A",
        "lat": 41.352694655528616,
        "long": 2.1266837992537995
      },
      {
        "route": 17,
        "name": "PORTA FIRA",
        "address": "Pl. de Europa 45",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/rERP9fnj4mB1yGiy5",
        "lat": 41.354935928480465,
        "long": 2.125936421682284
      },
      {
        "route": 17,
        "name": "HAMPTON BY HILTON",
        "address": "Pl. De Europa 33",
        "comment": "",
        "mapsLink": "https://maps.app.goo.gl/jKmE3KCdxKFwxyYH8",
        "lat": 41.35571703025612,
        "long": 2.1272230564478796
      },
      {
        "route": 17,
        "name": "SB PLAZA EUROPA",
        "address": "C/ de les Ci√®ncies 11",
        "comment": "Esq. c/ Alumini",
        "mapsLink": "https://maps.app.goo.gl/hi6VvYhFoNGiteTq7",
        "lat": 41.35928520050959,
        "long": 2.132392914319662
      }
    ];

    // Colores asignados a cada ruta
    const ROUTE_COLORS = {
      1: '#FF6B6B',   // Rojo
      2: '#4ECDC4',   // Turquesa
      3: '#45B7D1',   // Azul
      4: '#FFA07A',   // Salm√≥n
      5: '#98D8C8',   // Verde menta
      6: '#F7DC6F',   // Amarillo
      7: '#BB8FCE',   // P√∫rpura
      8: '#F8B739',   // Naranja
      9: '#85C1E2',   // Azul claro
      10: '#F1948A',  // Rosa
      11: '#BAAF38',  //Amarillo oscuro
      12: '#736C20',  //Amarillo m√°s oscuro
      13: '#A67024',  //Naranja oscuro
      14: '#C4471B',
      15: '#FCB99F',
      16: '#A8348D',
      17: '#A38196'
      // Puedes agregar m√°s colores para m√°s rutas
    };
    // ========================================
    // FIN DE LA SECCI√ìN DE HOTELES
    // ========================================

    const defaultConfig = {
      app_title: "Gestor de Rutas de Hoteles",
      instruction_text: "Selecciona los hoteles para calcular la ruta m√°s eficiente",
      background_color: "#667eea",
      surface_color: "#ffffff",
      text_color: "#2d3748",
      primary_action_color: "#667eea",
      secondary_action_color: "#48bb78",
      font_family: "Inter",
      font_size: 16
    };

    let hotels = [];
    let filteredHotels = [];

    function getRouteColor(routeNumber) {
      return ROUTE_COLORS[routeNumber] || '#667eea';
    }

    function initializeHotels() {
      hotels = HOTELS_DATA.map((hotel, index) => ({
        ...hotel,
        id: `hotel-${index}`,
        selected: false,
        color: getRouteColor(hotel.route)
      }));
      filteredHotels = [...hotels];
      renderHotelsList();
      updateCounts();
    }

    function renderHotelsList() {
      const listContainer = document.getElementById('hotels-list');

      if (filteredHotels.length === 0) {
        listContainer.innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">üîç</div>
            <p>No se encontraron hoteles con ese criterio de b√∫squeda.</p>
          </div>
        `;
        return;
      }

      listContainer.innerHTML = filteredHotels.map(hotel => `
        <div class="hotel-card ${hotel.selected ? 'selected' : ''}" data-id="${hotel.id}">
          <div class="hotel-header">
            <div class="hotel-info">
              <span class="hotel-route" style="background-color: ${hotel.color};">Ruta ${hotel.route}</span>
              <h3 class="hotel-name">${hotel.name}</h3>
              <p class="hotel-address">üìç ${hotel.address}</p>
              ${hotel.comment ? `<p class="hotel-comment">${hotel.comment}</p>` : ''}
            </div>
            <div class="checkbox-container">
              <input type="checkbox" class="checkbox" ${hotel.selected ? 'checked' : ''} 
                     data-id="${hotel.id}"
                     onclick="event.stopPropagation()">
            </div>
          </div>
        </div>
      `).join('');

      listContainer.querySelectorAll('.hotel-card').forEach(card => {
        card.addEventListener('click', (e) => {
          if (!e.target.classList.contains('checkbox')) {
            const id = card.dataset.id;
            toggleHotelSelection(id);
          }
        });
      });

      listContainer.querySelectorAll('.checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', (e) => {
          const id = e.target.dataset.id;
          toggleHotelSelection(id);
        });
      });
    }

    function renderSelectedHotels() {
      const selectedContainer = document.getElementById('selected-hotels');
      const selectedHotels = hotels.filter(h => h.selected);

      if (selectedHotels.length === 0) {
        selectedContainer.innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">üìå</div>
            <p>Selecciona hoteles de la lista para comenzar a planificar tu ruta.</p>
          </div>
        `;
        document.getElementById('calculate-route-btn').disabled = true;
        document.getElementById('clear-selection-btn').disabled = true;
        return;
      }

      selectedContainer.innerHTML = selectedHotels.map((hotel, index) => `
        <div class="selected-hotel-item" style="border-left-color: ${hotel.color};">
          <div>
            <div class="selected-hotel-name">${index + 1}. ${hotel.name}</div>
            <div style="font-size: 12px; color: #718096; margin-top: 4px;">Ruta ${hotel.route}</div>
          </div>
          <div style="width: 12px; height: 12px; border-radius: 50%; background-color: ${hotel.color};"></div>
        </div>
      `).join('');

      document.getElementById('calculate-route-btn').disabled = selectedHotels.length < 2;
      document.getElementById('clear-selection-btn').disabled = false;
    }

    function updateCounts() {
      document.getElementById('hotel-count').textContent = `${filteredHotels.length} hoteles`;
      const selectedCount = hotels.filter(h => h.selected).length;
      document.getElementById('selected-count').textContent = `${selectedCount} seleccionados`;
    }

    function toggleHotelSelection(id) {
      const hotel = hotels.find(h => h.id === id);
      if (!hotel) return;

      hotel.selected = !hotel.selected;
      renderHotelsList();
      renderSelectedHotels();
      updateCounts();
    }

    function filterHotels(searchTerm) {
      const term = searchTerm.toLowerCase().trim();

      if (!term) {
        filteredHotels = [...hotels];
      } else {
        filteredHotels = hotels.filter(hotel =>
          hotel.name.toLowerCase().includes(term) ||
          hotel.address.toLowerCase().includes(term) ||
          hotel.route.toString().includes(term) ||
          (hotel.comment && hotel.comment.toLowerCase().includes(term))
        );
      }

      renderHotelsList();
      updateCounts();
    }

    function showToast(message, type = 'success') {
      const existingToast = document.querySelector('.toast');
      if (existingToast) {
        existingToast.remove();
      }

      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.innerHTML = `
        <span>${type === 'success' ? '‚úÖ' : '‚ùå'}</span>
        <span>${message}</span>
      `;
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.remove();
      }, 3000);
    }

    document.getElementById('search-input').addEventListener('input', (e) => {
      filterHotels(e.target.value);
    });

    document.getElementById('calculate-route-btn').addEventListener('click', async () => {
      const selectedHotels = hotels.filter(h => h.selected);
      if (selectedHotels.length < 2) {
        showToast('Selecciona al menos 2 hoteles para calcular la ruta', 'error');
        return;
      }

      try {
        const addresses = selectedHotels.map(h => h.address);

        const origin = encodeURIComponent(addresses[0]);
        const destination = encodeURIComponent(addresses[addresses.length - 1]);

        /* Los waypoints son los puntos intermedios*/
        const waypoints = addresses.slice(1, -1).map(encodeURIComponent).join('|');

        /*URL de Google Maps para direcciones. Utilizamos /dir/ con &optimize=true*/
        let mapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination}&waypoints=${waypoints}&travelmode=driving&optimize=true`;

        window.open(mapsUrl, '_blank', 'noopener noreferrer');
        showToast('Ruta optimizada calculada con Google Maps üöó', 'success');

      } catch (err) {
        console.error("Error al generar la URL de Google Maps:", err);
        showToast('Error al generar la ruta en Google Maps', 'error');
      }
    });

    document.getElementById('clear-selection-btn').addEventListener('click', () => {
      hotels.forEach(hotel => hotel.selected = false);
      renderHotelsList();
      renderSelectedHotels();
      updateCounts();
      showToast('Selecci√≥n limpiada', 'success');
    });


    async function initializeApp() {
      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            const appTitle = document.getElementById('app-title');
            const instructionText = document.getElementById('instruction-text');
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFontStack = '-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif';
            const baseSize = config.font_size || defaultConfig.font_size;

            if (appTitle) {
              appTitle.textContent = config.app_title || defaultConfig.app_title;
              appTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
              appTitle.style.fontSize = `${baseSize * 2}px`;
              appTitle.style.color = config.text_color || defaultConfig.text_color;
            }

            if (instructionText) {
              instructionText.textContent = config.instruction_text || defaultConfig.instruction_text;
              instructionText.style.fontFamily = `${customFont}, ${baseFontStack}`;
              instructionText.style.fontSize = `${baseSize}px`;
            }

            document.body.style.background = `linear-gradient(135deg, ${config.background_color || defaultConfig.background_color} 0%, #764ba2 100%)`;

            const surfaces = document.querySelectorAll('.header, .hotels-section, .sidebar, .hotel-card, .selected-hotel-item');
            surfaces.forEach(el => {
              el.style.background = config.surface_color || defaultConfig.surface_color;
            });

            const textElements = document.querySelectorAll('.section-title, .hotel-name, .hotel-address, .hotel-comment, .selected-hotel-name');
            textElements.forEach(el => {
              el.style.color = config.text_color || defaultConfig.text_color;
              el.style.fontFamily = `${customFont}, ${baseFontStack}`;
            });

            const primaryBtns = document.querySelectorAll('.btn-primary, .hotel-count, .hotel-route');
            primaryBtns.forEach(el => {
              el.style.background = config.primary_action_color || defaultConfig.primary_action_color;
            });

            const successBtns = document.querySelectorAll('.btn-success');
            successBtns.forEach(el => {
              el.style.background = config.secondary_action_color || defaultConfig.secondary_action_color;
            });

            const checkboxes = document.querySelectorAll('.checkbox');
            checkboxes.forEach(el => {
              el.style.accentColor = config.primary_action_color || defaultConfig.primary_action_color;
            });

            const selectedItems = document.querySelectorAll('.selected-hotel-item');
            selectedItems.forEach(el => {
              el.style.borderLeftColor = config.primary_action_color || defaultConfig.primary_action_color;
            });
          },
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () => config.background_color || defaultConfig.background_color,
                set: (value) => {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: () => config.surface_color || defaultConfig.surface_color,
                set: (value) => {
                  config.surface_color = value;
                  window.elementSdk.setConfig({ surface_color: value });
                }
              },
              {
                get: () => config.text_color || defaultConfig.text_color,
                set: (value) => {
                  config.text_color = value;
                  window.elementSdk.setConfig({ text_color: value });
                }
              },
              {
                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                set: (value) => {
                  config.primary_action_color = value;
                  window.elementSdk.setConfig({ primary_action_color: value });
                }
              },
              {
                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                set: (value) => {
                  config.secondary_action_color = value;
                  window.elementSdk.setConfig({ secondary_action_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: {
              get: () => config.font_family || defaultConfig.font_family,
              set: (value) => {
                config.font_family = value;
                window.elementSdk.setConfig({ font_family: value });
              }
            },
            fontSizeable: {
              get: () => config.font_size || defaultConfig.font_size,
              set: (value) => {
                config.font_size = value;
                window.elementSdk.setConfig({ font_size: value });
              }
            }
          }),
          mapToEditPanelValues: (config) => new Map([
            ["app_title", config.app_title || defaultConfig.app_title],
            ["instruction_text", config.instruction_text || defaultConfig.instruction_text]
          ])
        });
      }

      initializeHotels();
    }

    initializeApp();
  </script>
  <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'99cdfdb8e2aa3eb3',t:'MTc2Mjg2NjIyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>